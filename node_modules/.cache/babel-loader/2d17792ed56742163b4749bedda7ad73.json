{"ast":null,"code":"var _jsxFileName = \"/home/chris/projects/loy.de/loy-de-frontend/src/components/Deathstacks/Deathstacks.js\";\nimport React, { Component } from 'react';\nimport classes from './Deathstacks.module.css';\nimport Board from './Board/Board';\nimport Tower from './Tower/Tower';\nconst LENGTH = 800;\nconst DIRECTIONS = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]];\n\nclass Deathstacks extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      towers: [['rr', 'rr', 'rr', 'rr', 'rr', 'rr', 'rr', 'rr', 'rr', 'rr'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['_', '_', '_', '_', '_', '_', '_', '_', '_', '_'], ['bb', 'bb', 'bb', 'bb', 'bb', 'bb', 'bb', 'bb', 'bb', 'bb']],\n      clicked: null\n    };\n\n    this.calcHighlighted = (posX, posY) => {\n      return [[1, 2], [4, 8], [7, 4]];\n    };\n\n    this.getPossibleMoves = (x, y) => {\n      // x=\n      const tower = this.state.towers[x][y].split('');\n      const possibleTargets = [];\n      const directions = this.getDirections(x, y);\n\n      for (let dir = 0; dir < directions.length; dir++) {\n        for (let distance = 1; distance < tower.length + 1; distance++) {\n          console.log('tower: ', tower);\n          console.log('currentDirection: ', directions[dir]);\n          console.log('currentDistance: ', distance);\n          console.log('target: ', `${x + directions[dir][0] * distance}${y + directions[dir][1] * distance}`);\n          possibleTargets.push(`${x + directions[dir][0] * distance}${y + directions[dir][1] * distance}`);\n        }\n      }\n\n      console.log(\"targets\", possibleTargets);\n      return possibleTargets.join(';');\n    };\n\n    this.getDirections = (x, y) => {\n      let directions = DIRECTIONS;\n      if (x === 0) directions = directions.filter(dir => {\n        return dir[0] !== -1;\n      });\n      if (x === 9) directions = directions.filter(dir => {\n        return dir[0] !== 1;\n      });\n      if (y === 0) directions = directions.filter(dir => {\n        return dir[1] !== -1;\n      });\n      if (y === 9) directions = directions.filter(dir => {\n        return dir[1] !== 1;\n      });\n      return directions;\n    };\n  }\n\n  render() {\n    let towers = [];\n\n    for (let row = 0; row < 10; row++) {\n      for (let col = 0; col < 10; col++) {\n        if (this.state.towers[row][col] !== '_') {\n          towers.push(React.createElement(Tower, {\n            clicked: this.state.towers[row][col].clicked,\n            x: col,\n            y: row,\n            boardLength: LENGTH,\n            stones: this.state.towers[row][col],\n            key: [col, row],\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }));\n        }\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: classes.Deathstacks,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Board, {\n      highlighted: this.getPossibleMoves(0, 2),\n      length: LENGTH,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), towers);\n  }\n\n}\n\nexport default Deathstacks;","map":{"version":3,"sources":["/home/chris/projects/loy.de/loy-de-frontend/src/components/Deathstacks/Deathstacks.js"],"names":["React","Component","classes","Board","Tower","LENGTH","DIRECTIONS","Deathstacks","state","towers","clicked","calcHighlighted","posX","posY","getPossibleMoves","x","y","tower","split","possibleTargets","directions","getDirections","dir","length","distance","console","log","push","join","filter","render","row","col"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport classes from './Deathstacks.module.css';\nimport Board from './Board/Board';\nimport Tower from './Tower/Tower';\n\nconst LENGTH = 800;\nconst DIRECTIONS = [[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];\n\nclass Deathstacks extends Component {\n    \n    state = {\n        towers: [\n            ['rr','rr','rr','rr','rr','rr','rr','rr','rr','rr'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            [ '_', '_', '_', '_', '_', '_', '_', '_', '_', '_'],\n            ['bb','bb','bb','bb','bb','bb','bb','bb','bb','bb']\n        ],\n        clicked: null\n    }\n\n    calcHighlighted = (posX, posY) => {\n        \n\n\n\n        return [[1,2],[4,8],[7,4]]\n    }\n    \n\n    getPossibleMoves = (x ,y) => {\n        // x=\n        const tower = this.state.towers[x][y].split('');\n        const possibleTargets = [];\n        const directions = this.getDirections(x,y);\n        \n        for(let dir=0;dir<directions.length;dir++){\n            for(let distance=1;distance<tower.length+1;distance++){\n                console.log('tower: ', tower);\n                console.log('currentDirection: ', directions[dir]);\n                console.log('currentDistance: ', distance);\n                console.log('target: ', `${x+directions[dir][0]*distance}${y+directions[dir][1]*distance}`);\n                possibleTargets.push(`${x+directions[dir][0]*distance}${y+directions[dir][1]*distance}`);\n            }\n        }\n\n        console.log(\"targets\", possibleTargets);\n        return possibleTargets.join(';');\n    }\n\n    getDirections = (x,y) => {\n        let directions = DIRECTIONS;\n        if(x===0) directions = directions.filter(dir => {return dir[0] !== -1});\n        if(x===9) directions = directions.filter(dir => {return dir[0] !==  1});\n        if(y===0) directions = directions.filter(dir => {return dir[1] !== -1});\n        if(y===9) directions = directions.filter(dir => {return dir[1] !==  1});\n        return directions;\n    }\n\n    render(){\n        let towers = [];\n        for(let row=0;row<10;row++){\n            for(let col=0;col<10;col++){\n                if(this.state.towers[row][col] !== '_'){\n                    towers.push(<Tower \n                                    clicked={this.state.towers[row][col].clicked} \n                                    x={col} \n                                    y={row} \n                                    boardLength={LENGTH} \n                                    stones={this.state.towers[row][col]}\n                                    key={[col, row]}/>);\n                }\n            }\n        }\n        return (\n            <div className={classes.Deathstacks}>\n                <Board highlighted={this.getPossibleMoves(0,2)} length={LENGTH}/>\n                {towers}\n            </div>\n        )\n    }\n}\nexport default Deathstacks;"]},"metadata":{},"sourceType":"module"}